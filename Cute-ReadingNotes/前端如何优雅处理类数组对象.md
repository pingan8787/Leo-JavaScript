## ä¸€ã€èƒŒæ™¯ä»‹ç»
Leo éƒ¨é—¨æœ€è¿‘æ¥äº†ä½å‰ç«¯å®ä¹ ç”Ÿ Robinï¼Œä½œä¸ºå¸ˆå‚…ï¼ŒLeo è®¤çœŸçš„ä¸º Robin ä»‹ç»äº†å…¬å¸ä¸šåŠ¡ã€éƒ¨é—¨å·¥ä½œç­‰æƒ…å†µï¼Œè¿˜æœ‰å‰ç«¯çš„æ–°äººå­¦ä¹ åœ°å›¾ã€‚
æ¥ä¸‹æ¥ Robin å¼€å§‹ä¸€å‘¨æ„‰å¿«çš„å­¦ä¹ å•¦~
ä¸€å‘¨åï¼ŒLeo ä¸º Robin åŒå­¦å¸ƒç½®äº†è€ƒè¯•ä½œä¸šï¼Œå¼€å‘ä¸€ä¸ªäººå‘˜æœç´¢é€‰æ‹©çš„é¡µé¢ï¼Œæ•ˆæœå¤§è‡´å¦‚ä¸‹ï¼š

![](hhttp://images.pingan8787.com/JavaScript-Base/Learn-Array-Liked-Objects-Demo/Learn-Array-Liked-Objects-Demo.gif)

Robin çœ‹å®Œè¿™ä¸ªæ•ˆæœå›¾åï¼Œä¸€è„¸å¾—æ„çš„æ ·å­ï¼Œè¿™ç¡®å®ä¸éš¾å‘€~

è¿‡å‡ å¤©åï¼ŒRobin å¸¦ç€è‡ªå·±å†™çš„ä»£ç ï¼Œç»™ Leo å±•ç¤ºäº†å¥¹çš„ä»£ç ï¼Œå¹¶ç–‘æƒ‘çš„é—®åˆ°ï¼š

![](hhttp://images.pingan8787.com/JavaScript-Base/Learn-Array-Liked-Objects-Demo/Learn-Array-Liked-Objects-1.png)

å¥¹å°†è¿™ä¸ªâ€œæ•°ç»„â€è¾“å‡ºåˆ°æ§åˆ¶å°ï¼š

![](hhttp://images.pingan8787.com/JavaScript-Base/Learn-Array-Liked-Objects-Demo/Learn-Array-Liked-Objects-Code-1.png)

Leo çœ‹äº†çœ‹ä»£ç ï¼š
```javascript
getUserList(){
   const memberList = $('#MemberList li');
   memberList.map(item => { console.log(item) });
   console.log(memberList);
}
```
Leo åˆé—®åˆ°ï¼š

![](hhttp://images.pingan8787.com/JavaScript-Base/Learn-Array-Liked-Objects-Demo/Learn-Array-Liked-Objects-2.png)

Robin ä¸€è„¸ç–‘æƒ‘ï¼Œç„¶å Leo å†åŸæ¥ä»£ç ä¸Šï¼ŒåŠ äº†ä¸ª `Array.from`Â æ–¹æ³•å¦‚ä¸‹ï¼š
```javascript
getUserList(){
    const memberList = Array.from($('#MemberList li'));
    memberList.map(item => {
        console.log(item)
    })
    console.log(memberList)
}
```
ç„¶åé‡æ–°æ‰§è¡Œä»£ç ï¼Œè¾“å‡ºä¸‹é¢ç»“æœï¼š

![](hhttp://images.pingan8787.com/JavaScript-Base/Learn-Array-Liked-Objects-Demo/Learn-Array-Liked-Objects-Code-2.png)

Leo è¾“å‡ºçš„ç»“æœï¼Œè·Ÿ Robin è¯´åˆ°ï¼š

![](hhttp://images.pingan8787.com/JavaScript-Base/Learn-Array-Liked-Objects-Demo/Learn-Array-Liked-Objects-3.png)

Robin æ»¡è„¸æœŸå¾…æœ›ç€å¸ˆå‚…ï¼Œå¯¹**ç±»æ•°ç»„å¯¹è±¡**æ›´åŠ å……æ»¡æœŸå¾…ã€‚

## äºŒã€ç±»æ•°ç»„å¯¹è±¡ä»‹ç»

### 2.1 æ¦‚å¿µä»‹ç»
æ‰€è°“ **ç±»å‹åŒ–æ•°ç»„å¯¹è±¡ï¼ˆç®€ç§°ç±»æ•°ç»„å¯¹è±¡ï¼‰**Â æ˜¯ä¸€ç§ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œå®ƒæä¾›äº†ä¸€ç§ç”¨äºè®¿é—®åŸå§‹äºŒè¿›åˆ¶æ•°æ®çš„æœºåˆ¶ã€‚JavaScriptå¼•æ“ä¼šåšä¸€äº›å†…éƒ¨ä¼˜åŒ–ï¼Œä»¥ä¾¿å¯¹æ•°ç»„çš„æ“ä½œå¯ä»¥å¾ˆå¿«ã€‚ç„¶è€Œï¼Œéšç€Webåº”ç”¨ç¨‹åºå˜å¾—è¶Šæ¥è¶Šå¼ºå¤§ï¼Œå°¤å…¶ä¸€äº›æ–°å¢åŠ çš„åŠŸèƒ½ä¾‹å¦‚ï¼šéŸ³é¢‘è§†é¢‘ç¼–è¾‘ï¼Œè®¿é—®WebSocketsçš„åŸå§‹æ•°æ®ç­‰ï¼Œå¾ˆæ˜æ˜¾æœ‰äº›æ—¶å€™å¦‚æœä½¿ç”¨JavaScriptä»£ç å¯ä»¥å¿«é€Ÿæ–¹ä¾¿åœ°é€šè¿‡ç±»å‹åŒ–æ•°ç»„æ¥æ“ä½œåŸå§‹çš„äºŒè¿›åˆ¶æ•°æ®å°†ä¼šéå¸¸æœ‰å¸®åŠ©ã€‚ â€”â€”[ ã€ŠMDN ç±»å‹åŒ–æ•°ç»„ã€‹](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Typed_arrays)

é‚£ä¹ˆä»€ä¹ˆæ ·çš„æ•°ç»„æˆ‘ä»¬å¯ä»¥å½’ç±»åˆ°**ç±»å‹åŒ–æ•°ç»„**ä¸­ï¼Ÿ
å…¶å®æ¯”è¾ƒç®€å•ï¼Œå’Œæ•°ç»„ç»“æ„ç±»ä¼¼ï¼Œæ‹¥æœ‰ `length` å±æ€§ï¼Œå¯ä»¥é€šè¿‡**ç´¢å¼•**æ¥è®¿é—®æˆ–è®¾ç½®é‡Œé¢çš„å…ƒç´ ï¼Œä½†æ˜¯ä¸èƒ½ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•ï¼Œå°±å¯ä»¥å½’ç±»ä¸º**ç±»å‹åŒ–æ•°ç»„**ã€‚
ä¸¾ä¸ªä¾‹å­ğŸŒ°ï¼š
```javascript
const arrLike = {
  0: 'name',
  1: 'age',
  2: 'job',
  length: 3
}
```

### 2.2 å¸¸è§ç±»æ•°ç»„å¯¹è±¡

- `arguments` å¯¹è±¡ï¼›
```javascript
function f() {
  return arguments;
}
f(1,2,3)

// Arguments(3) [1, 2, 3, callee: Æ’, Symbol(Symbol.iterator): Æ’]
```

- `NodeList`ï¼ˆæ¯”å¦‚ `document.getElementsByClassName('a')` å¾—åˆ°çš„ç»“æœï¼›
```javascript
document.getElementsByTagName('img')
// HTMLCollection(3)Â [img, img, img]
```

- `typedArray`ï¼ˆæ¯”å¦‚ `Int32Array`ï¼‰ï¼›
```javascript
const typedArray = new Uint8Array([1, 2, 3, 4])
// Uint8Array(4)Â [1, 2, 3, 4]
```
å¦å¤–ä½¿ç”¨ jQuery è·å–å…ƒç´ ï¼Œä¼šè¢« jQuery åšç‰¹æ®Šå¤„ç†æˆä¸º init ç±»å‹ï¼š
```javascript
$('img')
// init(3)Â [img, img, img, prevObject: init(1), context: document, selector: "img"]
```

å½“ç„¶è¿˜æœ‰ä¸€äº›ä¸å¸¸è§çš„ç±»æ•°ç»„å¯¹è±¡ï¼Œæ¯”å¦‚â€œStorage API è¿”å›çš„ç»“æœâ€ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€åˆ—å‡ºã€‚

## ä¸‰ã€ç±»æ•°ç»„å¯¹è±¡å±æ€§
ä¸‹é¢é€šè¿‡ Robin ä»£ç ä½œä¸ºç¤ºä¾‹ï¼Œä»‹ç»ç±»æ•°ç»„å¯¹è±¡çš„å±æ€§ï¼š
```javascript
const memberList = $('#MemberList li');
```

### 3.1 è¯»å†™
```javascript
// è¯»å–
memberList[0];
// Node: <li>...</li>

// å†™å…¥
memberList[0] = document.createElement("div")
memberList[0];
//  Node: <div>...</div>
```

### 3.2 é•¿åº¦
```javascript
memberList.length; 
// 10
```

### 3.3 éå†
```javascript
for (let i = 0;i < memberList.length; i++){
    console.log(memberList[i]);
}

/*
	Node: <li>...</li>
	Node: <li>...</li>
  ... å…±10ä¸ªï¼Œçœç•¥å…¶ä»–
*/

memberList.map(item => console.log(item));

/*
	0
  ... å…±10ä¸ªï¼Œçœç•¥å…¶ä»–
*/
```

ä½†å¦‚æœæ˜¯ `HTMLCollection` å°±ä¸èƒ½ä½¿ç”¨ `map` å’¯ï¼š
```javascript
const img = document.getElementsByTagName("img");
img.map(item => console.log(item));

// Uncaught TypeError: img.map is not a function
```

## å››ã€ç±»æ•°ç»„å¯¹è±¡å¤„ç†
Leo çœ‹äº†çœ‹ Robin å¤„ç†è¿™ä¸ªåˆ—è¡¨çš„ä»£ç ï¼š
```javascript
getUserList(){
    const memberList = $('#MemberList li');
    const result = {
        text: [],
        dom : [],
    };
    memberList.map(item => {
        item = memberList[item]
        // åˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¦æœ‰ checked ç±»å
    })
    console.log(result)
    this.showToast(`é€‰ä¸­æˆå‘˜ï¼š${result.text}`);
}
```
å¾ˆæ˜æ˜¾ï¼ŒRobin å¹¶æ²¡æœ‰å¯¹ jQuery è·å–åˆ°çš„ `memberList` åšå¤„ç†ï¼Œç›´æ¥ä½¿ç”¨ï¼Œé€šè¿‡ç´¢å¼•æ¥è·å–å¯¹åº”å€¼ã€‚
Leo ç»§ç»­å’Œ Robin ä»‹ç»åˆ°ï¼š
![](hhttp://images.pingan8787.com/JavaScript-Base/Learn-Array-Liked-Objects-Demo/Learn-Array-Liked-Objects-4.png)

### 4.1 Array.from
ä½¿ç”¨ `Array.from`Â æ¥å°†ç±»æ•°ç»„å¯¹è±¡è½¬ä¸ºæ•°ç»„å¯¹è±¡ï¼Œæ“ä½œèµ·æ¥éå¸¸ç®€å•ï¼š
```javascript
getUserList(){
    const memberList = Array.from($('#MemberList li'));
    // çœç•¥å…¶ä»–ä»£ç 
}
```
å…¶**è¯­æ³•**å¦‚ä¸‹ï¼š
```javascript
Array.from(arrayLike[, mapFn[, thisArg]])
```
**å‚æ•°**ï¼š

1. `arrayLike` æƒ³è¦è½¬æ¢æˆæ•°ç»„çš„ä¼ªæ•°ç»„å¯¹è±¡æˆ–å¯è¿­ä»£å¯¹è±¡ã€‚
1. `mapFn` å¯é€‰å¦‚æœæŒ‡å®šäº†è¯¥å‚æ•°ï¼Œæ–°æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä¼šæ‰§è¡Œè¯¥å›è°ƒå‡½æ•°ã€‚
1. `thisArg` å¯é€‰å¯é€‰å‚æ•°ï¼Œæ‰§è¡Œå›è°ƒå‡½æ•° `mapFn` æ—¶ `this` å¯¹è±¡ã€‚

**è¿”å›å€¼**ï¼š
ä¸€ä¸ªæ–°çš„æ•°ç»„å®ä¾‹ã€‚

æ›´å¤š[ `Array.from` ](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/from) ä»‹ç»å¯ä»¥æŸ¥çœ‹æ–‡æ¡£ã€‚

### 4.2 Array.prototype.slice.call()
`slice()` æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„å¯¹è±¡ï¼Œè¿™ä¸€å¯¹è±¡æ˜¯ä¸€ä¸ªç”± `begin` å’Œ `end` å†³å®šçš„åŸæ•°ç»„çš„**æµ…æ‹·è´**ï¼ˆåŒ…æ‹¬ `begin`ï¼Œä¸åŒ…æ‹¬`end`ï¼‰ã€‚**åŸå§‹æ•°ç»„ä¸ä¼šè¢«æ”¹å˜**ã€‚

å®ç°ä»£ç ï¼š
```javascript
getUserList(){
    const memberList = Array.prototype.slice.call($('#MemberList li'));
    // çœç•¥å…¶ä»–ä»£ç 
}
```

æ›´å¤š [Array.prototype.slice](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/slice) ä»‹ç»å¯ä»¥æŸ¥çœ‹æ–‡æ¡£ã€‚

### 4.3 ES6å±•å¼€è¿ç®—ç¬¦
å±•å¼€è¯­æ³•(Spread syntax), å¯ä»¥åœ¨å‡½æ•°è°ƒç”¨/æ•°ç»„æ„é€ æ—¶, **å°†æ•°ç»„è¡¨è¾¾å¼æˆ–è€…stringåœ¨è¯­æ³•å±‚é¢å±•å¼€**ï¼›è¿˜å¯ä»¥åœ¨æ„é€ å­—é¢é‡å¯¹è±¡æ—¶, å°†å¯¹è±¡è¡¨è¾¾å¼æŒ‰`key-value`çš„æ–¹å¼å±•å¼€ã€‚

å®ç°ä»£ç ï¼š
```javascript
getUserList(){
    const memberList = [...document.getElementsByTagName("li")];
    // çœç•¥å…¶ä»–ä»£ç 
}
```
æ›´å¤š [ES6å±•å¼€è¿ç®—ç¬¦](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Spread_syntax) ä»‹ç»å¯ä»¥æŸ¥çœ‹æ–‡æ¡£ã€‚

### 4.4 åˆ©ç”¨concat+apply
```javascript
getUserList(){
    const memberList = Array.prototype.concat.apply([], $('#MemberList li'));
    // çœç•¥å…¶ä»–ä»£ç 
}
```

## äº”ã€æ¡ˆä¾‹å°ç»“
Leo ä»‹ç»å®Œè¿™äº›çŸ¥è¯†åï¼ŒRobin åˆä¼˜åŒ–äº†ä¸‹è‡ªå·±çš„ä»£ç ï¼Œæ¶‰åŠ**åˆ°ç±»æ•°ç»„å¯¹è±¡æ“ä½œçš„**æ ¸å¿ƒ js ä»£ç å¦‚ä¸‹ï¼š
```javascript
class SelectMember {
    constructor(){
        this.MockUsers = window.MockUsers;
        this.init();
    }
    init(){
        this.initMemberList('#MemberList', this.MockUsers);
        this.initBindEvent();
    }
	  // ... çœç•¥éƒ¨åˆ†ä»£ç ï¼Œä¿ç•™æ ¸å¿ƒä»£ç 
    submitSelect(){
        const memberList = Array.from($('#MemberList li'));
        const result = {
            text: [],
            dom : [],
        };
        memberList.map(item => {
            const hasClass = $(item).children('.round-checkbox').children('span').hasClass(this.selectClassName);
            if(hasClass){
                result.text.push($(item).children('.user-data').children('h4').text());
                result.dom.push(item);
            }
        })
        this.showToast(`é€‰ä¸­æˆå‘˜ï¼š${result.text}`);
    }
}

let newMember = new SelectMember();
```
å¾ˆæ˜æ˜¾ï¼Œä½¿ç”¨æ­£ç¡®æ–¹å¼æ¥å¤„ç†ç±»æ•°ç»„å¯¹è±¡ï¼Œä¸ä»…èƒ½ä½¿æˆ‘ä»¬ä»£ç æ›´åŠ å°‘ï¼Œå‡å°‘è½¬æ¢å¤„ç†ï¼Œè¿˜èƒ½æé«˜ä»£ç è´¨é‡ã€‚


æ•´ä¸ªé¡¹ç›®çš„å®Œæ•´ä»£ç ï¼Œå¯ä»¥åœ¨[æˆ‘çš„ github æŸ¥çœ‹](https://github.com/pingan8787/Leo-JavaScript/blob/master/Cute-Demo/10.Learn-Array-Liked-Objects/index.html)ï¼š

[https://github.com/pingan8787/Leo-JavaScript/blob/master/Cute-Demo/10.Learn-Array-Liked-Objects/index.html](https://github.com/pingan8787/Leo-JavaScript/blob/master/Cute-Demo/10.Learn-Array-Liked-Objects/index.html)


## å…­ã€æ€»ç»“
æœ¬æ–‡æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®é™…åœºæ™¯ï¼Œè¯¦ç»†ä»‹ç»äº†ç±»æ•°ç»„å¯¹è±¡åœ¨å®é™…å¼€å‘ä¸­çš„ä½¿ç”¨ï¼Œå¯¹äºå¸¸è§çš„ç±»æ•°ç»„å¯¹è±¡ï¼Œæˆ‘ä»¬è¿˜ä»‹ç»äº†å¤„ç†æ–¹å¼ï¼Œèƒ½å¾ˆå¤§ç¨‹åº¦å‡å°‘æˆ‘ä»¬å¤„ç†ç±»æ•°ç»„å¯¹è±¡çš„æ“ä½œï¼Œå°†ç±»æ•°ç»„ç»Ÿä¸€è½¬æˆæ•°ç»„ï¼Œæ›´åŠ æ–¹ä¾¿å¯¹æ•°æ®çš„æ“ä½œã€‚
å¸Œæœ›çœ‹å®Œæœ¬æ–‡çš„ä½ ï¼Œä»¥åå†é‡åˆ°ç±»æ•°ç»„å¯¹è±¡ï¼Œä¸ä¼šå†ä¸€è„¸æ‡µé€¼å’¯~~~